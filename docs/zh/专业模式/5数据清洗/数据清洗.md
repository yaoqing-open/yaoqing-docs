# 数据清洗介绍

## 功能概述
 数据清洗为数据工程师以及数据开发相关人员提供了高效、专业、智能的数据开发平台。通过提供脚本开发、可视化开发、任务编排、任务发布以及任务运维等能力，帮助组织和企业高效构建实时数据湖仓。

## 功能说明
### 可视化建模
 您可以在数据管理->输出源->清洗数仓->`etl`层->新建表，通过图形化界面新建清洗模型表。  

### 层级概念
- 所有源库数据都同步到数仓`input`输入层，清洗表全部都创建在数仓`etl`清洗层。
- 任务层级由其所有输入表对应的清洗任务的最大层级决定。  
- 如果输入表都是`input`层表，则当前任务为第1层。  
- 如果输入表中包含第 *n* 层清洗任务的输出表，则当前任务的层级为 *n+1*。
- 任务层级确保数据清洗的依赖关系清晰，**层级清洗、流式触发**，避免循环依赖。

### 任务说明
- 平台根据用户sql进行实时数据清洗流转，为了保证实时状态不会无限膨胀，需要用户指定表的时间字段做 `WHERE` 条件限制实时计算范围。
- 任务首次启动，会根据 `WHERE` 条件进行数据读取计算，历史全量数据会自动补偿一次。
- 任务停止后重新启动，默认从上一次停止或异常的点位恢复计算，如因状态过期无法恢复，则自动进行一次异常至今的数据补偿并启动实时任务。
- 平台会分别提供小任务和大任务适配的两种运行环境，自动根据用户任务状态进行智能切换。

### 脚本说明
1. 为了减少重复代码，平台支持SQL中引用全局变量 `${var}` 方式来代替重复代码。  
2. 爻擎 SQL 规范使用示例，请参考文档：[👉 爻擎 SQL 规范](爻擎%20SQL%20规范.md)  
3. 关于 SQL 编辑器快捷键，请参见：[👉 快捷键](快捷键.md)  
